
task getDeviceLog(description: 'Retrieve device log.') << {
  remote {
    scp {
      from { remoteFile "/var/log/device.log" }
      into { localDir "${buildDir}/${project.hostConfig.hostname}-device.log" }
    }
    scp {
      from { remoteFile "/var/log/daemon.log" }
      into { localDir "${buildDir}/${project.hostConfig.hostname}-daemon.log" }
    }
  }
}

task deleteDeviceLog(description: 'Delete device log.') << {
  remote {
    exec 'sudo rm -rf /var/log/device.log'
    exec 'sudo service device restart'
  }
}
